!function(){let e=1,n={},i={};window.$app={invoke:function(i,t,o){let a=e++;n[a]=o;let l={bridgeName:i,data:t,callbackId:a};"undefined"!=typeof nativeWebviewBridge&&nativeWebviewBridge.postMessage(JSON.stringify(l))},receiveMessage:function(e){if(window.enable_log&&!/SensorChange/.test(e.functionName)){let n=JSON.stringify(e);console.log("得到回调参数："+n.replace(/(:"?\w{40})[^"]+/g,"$1"))}let t=e.callbackId,o=e.data||{},a=n[t];if(a)a(o),delete n[t];else{let n=i[e.functionName];if(n)return n(o)}},registerFunction:function(e,n,t){if(console.log("注册function：",e),i[e]&&!t)return!1;i[e]=n},unregisterFunction:function(e){i[e]&&delete i[e]}},window.$nativeApi={request:function(e,n){return new Promise((i=>{setTimeout((()=>$app.invoke(e,n,(e=>i(e)))),20)}))}}}();